{"ast":null,"code":"import React,{useState,useEffect}from'react';import{useParams}from'react-router-dom';import{Container,Typography,Box,Tooltip,IconButton,Snackbar,Button,Dialog,DialogTitle,DialogContent,DialogActions}from'@mui/material';import axios from'axios';import PersonIcon from'@mui/icons-material/Person';import CloseIcon from'@mui/icons-material/Close';import AppleIcon from'@mui/icons-material/Apple';import AndroidIcon from'@mui/icons-material/Android';import ShareIcon from'@mui/icons-material/Share';import{jsx as _jsx,jsxs as _jsxs}from\"react/jsx-runtime\";function StudentCard(){const{id}=useParams();const[student,setStudent]=useState(null);const[showPwaHint,setShowPwaHint]=useState(()=>{return localStorage.getItem('hidePwaHint')!=='1';});const[showUndoAlert,setShowUndoAlert]=useState(false);const[undoLessonIndex,setUndoLessonIndex]=useState(null);const[showLessonInfo,setShowLessonInfo]=useState(false);const[lessonInfo,setLessonInfo]=useState({});const[openTessDialog,setOpenTessDialog]=useState(false);useEffect(()=>{fetchStudent();// eslint-disable-next-line react-hooks/exhaustive-deps\n},[id]);const fetchStudent=async()=>{try{const response=await axios.get(\"http://localhost:5001/api/students/\".concat(id),{headers:{Authorization:\"Bearer \".concat(localStorage.getItem('token'))}});setStudent(response.data);}catch(error){console.error('Errore nel caricamento dello studente:',error);}};// Funzione per annullare una lezione\nconst handleUndoLesson=async lessonIndex=>{try{await axios.patch(\"http://localhost:5001/api/students/\".concat(id,\"/lessons/\").concat(lessonIndex,\"/undo\"),{},{headers:{Authorization:\"Bearer \".concat(localStorage.getItem('token'))}});fetchStudent();setUndoLessonIndex(lessonIndex);setShowUndoAlert(true);}catch(error){alert('Errore nell\\'annullamento della lezione');}};const handleClosePwaHint=()=>{setShowPwaHint(false);localStorage.setItem('hidePwaHint','1');};// Gestione click su modulo disponibile (ma annullato)\nconst handleAvailableLessonClick=(lessonIndex,lesson)=>{if(lesson.date){setLessonInfo({number:lessonIndex+1,date:new Date(lesson.date).toLocaleString('it-IT',{day:'2-digit',month:'2-digit',year:'2-digit',hour:'2-digit',minute:'2-digit'})});setShowLessonInfo(true);}else{// Niente banner se mai usata\n}};// Funzione helper per ottenere le lezioni dal tesserino attivo\nconst getLessons=student=>student&&student.tesserini&&Array.isArray(student.tesserini)&&student.tesserini.length>0&&Array.isArray(student.tesserini[student.tesserini.length-1].lessons)?student.tesserini[student.tesserini.length-1].lessons:[];// SVG vintage e illustrazione per il banner PWA\nconst CardSVG=()=>/*#__PURE__*/_jsxs(\"svg\",{width:\"60\",height:\"40\",viewBox:\"0 0 60 40\",fill:\"none\",xmlns:\"http://www.w3.org/2000/svg\",style:{marginBottom:8},children:[/*#__PURE__*/_jsx(\"rect\",{x:\"2\",y:\"2\",width:\"56\",height:\"36\",rx:\"8\",fill:\"#ff9800\",stroke:\"#795548\",strokeWidth:\"4\"}),/*#__PURE__*/_jsx(\"circle\",{cx:\"30\",cy:\"20\",r:\"10\",fill:\"#fff8e1\",stroke:\"#1976d2\",strokeWidth:\"2\"}),/*#__PURE__*/_jsx(\"text\",{x:\"30\",y:\"25\",textAnchor:\"middle\",fontFamily:\"Oswald, Impact, Arial\",fontWeight:\"bold\",fontSize:\"10\",fill:\"#1976d2\",children:\"WBBS\"})]});const HandSVG=()=>/*#__PURE__*/_jsxs(\"svg\",{width:\"32\",height:\"32\",viewBox:\"0 0 32 32\",fill:\"none\",xmlns:\"http://www.w3.org/2000/svg\",style:{marginRight:6,verticalAlign:'middle'},children:[/*#__PURE__*/_jsx(\"path\",{d:\"M8 24c0 2 2 4 4 4h8c2 0 4-2 4-4v-8c0-2-2-4-4-4h-2V6a2 2 0 0 0-4 0v6H12c-2 0-4 2-4 4v8z\",fill:\"#ffb300\",stroke:\"#795548\",strokeWidth:\"2\"}),/*#__PURE__*/_jsx(\"circle\",{cx:\"16\",cy:\"8\",r:\"2\",fill:\"#fff8e1\",stroke:\"#1976d2\",strokeWidth:\"1\"})]});const MenuSVG=()=>/*#__PURE__*/_jsxs(\"svg\",{width:\"24\",height:\"24\",viewBox:\"0 0 24 24\",fill:\"none\",xmlns:\"http://www.w3.org/2000/svg\",style:{verticalAlign:'middle',marginRight:4},children:[/*#__PURE__*/_jsx(\"rect\",{y:\"4\",width:\"24\",height:\"3\",rx:\"1.5\",fill:\"#795548\"}),/*#__PURE__*/_jsx(\"rect\",{y:\"10.5\",width:\"24\",height:\"3\",rx:\"1.5\",fill:\"#795548\"}),/*#__PURE__*/_jsx(\"rect\",{y:\"17\",width:\"24\",height:\"3\",rx:\"1.5\",fill:\"#795548\"})]});// Funzione per creare un nuovo tesserino con scelta moduli\nconst handleNewTesserino=numLessons=>async()=>{console.log('Creazione tesserino con',numLessons,'moduli');try{await axios.post(\"http://localhost:5001/api/students/\".concat(id,\"/tesserini\"),{numLessons},{headers:{Authorization:\"Bearer \".concat(localStorage.getItem('token'))}});setOpenTessDialog(false);fetchStudent();}catch(error){console.error('Errore nella creazione del tesserino:',error);alert('Errore nella creazione del tesserino');}};// Colore giallo dei moduli\nconst yellowMod='#ffeb3b';// Colore verde per il box nome\nconst nameBoxColor='#43a047';if(!student){return/*#__PURE__*/_jsx(Container,{children:/*#__PURE__*/_jsx(Typography,{children:\"Caricamento...\"})});}if(!student||!student.tesserini||!Array.isArray(student.tesserini)||student.tesserini.length===0){return/*#__PURE__*/_jsxs(Container,{maxWidth:\"sm\",sx:{p:4,textAlign:'center'},children:[/*#__PURE__*/_jsx(Typography,{variant:\"h6\",color:\"error\",sx:{mb:2},children:\"Dati studente non disponibili o nessun tesserino attivo.\"}),/*#__PURE__*/_jsx(Button,{variant:\"contained\",color:\"success\",onClick:()=>setOpenTessDialog(true),children:\"Crea nuovo tesserino\"}),/*#__PURE__*/_jsxs(Dialog,{open:openTessDialog,onClose:()=>setOpenTessDialog(false),children:[/*#__PURE__*/_jsx(DialogTitle,{children:\"Scegli il tipo di tesserino\"}),/*#__PURE__*/_jsxs(DialogContent,{children:[/*#__PURE__*/_jsx(Button,{variant:\"contained\",color:\"primary\",onClick:handleNewTesserino(10),sx:{m:1},children:\"Tesserino 10 moduli\"}),/*#__PURE__*/_jsx(Button,{variant:\"contained\",color:\"secondary\",onClick:handleNewTesserino(5),sx:{m:1},children:\"Tesserino 5 moduli\"})]}),/*#__PURE__*/_jsx(DialogActions,{children:/*#__PURE__*/_jsx(Button,{onClick:()=>setOpenTessDialog(false),children:\"Annulla\"})})]})]});}return/*#__PURE__*/_jsxs(Container,{maxWidth:\"md\",sx:{p:0,m:0,minWidth:'100vw',minHeight:'100vh',display:'flex',flexDirection:{xs:'column',md:'row'},alignItems:'flex-start',justifyContent:'center',bgcolor:'#fff8e1'},children:[/*#__PURE__*/_jsxs(Box,{sx:{flex:'0 0 auto',mb:{xs:2,md:0},mr:{md:3,xs:0}},children:[showPwaHint&&/*#__PURE__*/_jsx(Box,{sx:{position:'fixed',top:0,left:0,width:'100vw',height:'100vh',bgcolor:'rgba(0,0,0,0.45)',zIndex:9999,display:'flex',alignItems:'center',justifyContent:'center'},children:/*#__PURE__*/_jsxs(Box,{sx:{bgcolor:'#fff8e1',borderRadius:6,boxShadow:'0 8px 32px #ff980088',p:4,maxWidth:370,width:'92vw',textAlign:'center',position:'relative',border:'4px solid #ff9800',display:'flex',flexDirection:'column',alignItems:'center'},children:[/*#__PURE__*/_jsx(IconButton,{onClick:handleClosePwaHint,sx:{position:'absolute',top:8,right:8},children:/*#__PURE__*/_jsx(CloseIcon,{})}),/*#__PURE__*/_jsx(CardSVG,{}),/*#__PURE__*/_jsx(Typography,{variant:\"h5\",sx:{mb:2,fontWeight:900,color:'#d84315',letterSpacing:2,fontFamily:'Oswald, Impact, Arial, sans-serif',textShadow:'0 2px 8px #ff980088'},children:\"Installa il tesserino come App!\"}),/*#__PURE__*/_jsx(Typography,{variant:\"body1\",sx:{mb:3,color:'#795548',fontWeight:700,fontSize:18},children:\"Per un accesso rapido e senza limiti, aggiungi il tesserino alla schermata Home:\"}),/*#__PURE__*/_jsxs(Box,{sx:{textAlign:'left',mb:2,width:'100%'},children:[/*#__PURE__*/_jsxs(Box,{sx:{display:'flex',alignItems:'center',mb:1},children:[/*#__PURE__*/_jsx(AppleIcon,{sx:{color:'#222',fontSize:28,mr:1}}),/*#__PURE__*/_jsx(Typography,{variant:\"subtitle2\",sx:{fontWeight:700,color:'#ff9800',fontSize:18},children:\"iPhone (Safari):\"})]}),/*#__PURE__*/_jsxs(Typography,{variant:\"body2\",sx:{mb:1,ml:4,color:'#333',fontWeight:600},children:[\"1. Tocca \",/*#__PURE__*/_jsx(ShareIcon,{sx:{fontSize:18,mb:'-3px',color:'#1976d2'}}),\" \",/*#__PURE__*/_jsx(\"b\",{children:\"Condividi\"}),\" in basso\",/*#__PURE__*/_jsx(\"br\",{}),\"2. Scegli \",/*#__PURE__*/_jsx(\"b\",{children:\"Aggiungi a Home\"})]}),/*#__PURE__*/_jsxs(Box,{sx:{display:'flex',alignItems:'center',mb:1,mt:2},children:[/*#__PURE__*/_jsx(AndroidIcon,{sx:{color:'#388e3c',fontSize:28,mr:1}}),/*#__PURE__*/_jsx(Typography,{variant:\"subtitle2\",sx:{fontWeight:700,color:'#388e3c',fontSize:18},children:\"Android (Chrome):\"})]}),/*#__PURE__*/_jsxs(Typography,{variant:\"body2\",sx:{mb:1,ml:4,color:'#333',fontWeight:600},children:[\"1. Tocca \",/*#__PURE__*/_jsx(MenuSVG,{}),\" \",/*#__PURE__*/_jsx(\"b\",{children:\"Menu\"}),\" in alto a destra\",/*#__PURE__*/_jsx(\"br\",{}),\"2. Scegli \",/*#__PURE__*/_jsx(\"b\",{children:\"Aggiungi a schermata Home\"})]})]}),/*#__PURE__*/_jsxs(Box,{sx:{display:'flex',alignItems:'center',justifyContent:'center',mb:1},children:[/*#__PURE__*/_jsx(HandSVG,{}),/*#__PURE__*/_jsx(Typography,{variant:\"caption\",sx:{color:'#d84315',fontWeight:700,letterSpacing:1,fontSize:16},children:\"Vedrai l'icona \\\"MY BOXING LESSONS\\\" tra le tue app!\"})]})]})}),/*#__PURE__*/_jsx(\"img\",{src:\"/main.jpg\",alt:\"Boxe BG\",style:{position:'absolute',top:0,left:0,width:'100%',height:'100%',objectFit:'cover',zIndex:0,border:'4px solid #b71c1c',borderRadius:'8px'}}),/*#__PURE__*/_jsx(Box,{sx:{position:'absolute',top:0,left:0,width:'100%',height:'100%',bgcolor:'rgba(0,0,0,0.18)',zIndex:2}}),/*#__PURE__*/_jsx(Box,{sx:{position:'absolute',left:0,bottom:70,width:'100%',zIndex:4,display:'flex',flexDirection:'row',alignItems:'center',justifyContent:'center',gap:0.5},children:getLessons(student).map((lesson,lessonIndex)=>{const dateString=lesson.date?new Date(lesson.date).toLocaleString('it-IT',{day:'2-digit',month:'2-digit',year:'2-digit',hour:'2-digit',minute:'2-digit'}):'';return lesson.isUsed?/*#__PURE__*/_jsx(Tooltip,{title:dateString?\"Lezione effettuata il \".concat(dateString):'',arrow:true,children:/*#__PURE__*/_jsxs(Box,{sx:{width:38,height:52,borderRadius:6,bgcolor:yellowMod,border:'2.5px solid #aaa',boxShadow:'none',opacity:0.92,display:'flex',alignItems:'center',justifyContent:'center',fontWeight:700,fontSize:18,color:'#d32f2f',mb:0,transition:'all 0.2s',boxSizing:'border-box',cursor:'pointer',position:'relative'},onClick:()=>{},children:[/*#__PURE__*/_jsx(Box,{sx:{background:'orange',borderRadius:3,px:0.7,py:0.2,display:'flex',alignItems:'center',justifyContent:'center'},children:\"\\u2717\"}),localStorage.getItem('token')&&/*#__PURE__*/_jsx(\"button\",{onClick:()=>handleUndoLesson(lessonIndex),style:{position:'absolute',top:2,right:2,width:18,height:18,background:'#ff9800',color:'#fff',border:'none',borderRadius:'50%',fontSize:10,fontWeight:700,cursor:'pointer',boxShadow:'0 1px 4px #e6510022',display:'flex',alignItems:'center',justifyContent:'center',zIndex:10},title:\"Annulla lezione\",children:\"\\u21BA\"})]})},lessonIndex):/*#__PURE__*/_jsx(Box,{sx:{width:38,height:52,borderRadius:6,bgcolor:yellowMod,border:'2.5px solid #43a047',boxShadow:'0 2px 8px #1976d233',opacity:0.92,display:'flex',alignItems:'center',justifyContent:'center',cursor:'pointer',fontWeight:700,fontSize:18,color:'#1976d2',mb:0,transition:'all 0.2s',boxSizing:'border-box','&:hover':{boxShadow:'0 0 8px #43a047',transform:'scale(1.08)',background:'linear-gradient(135deg, #fffde7 0%, #fff9c4 100%)'}},onClick:()=>handleAvailableLessonClick(lessonIndex,lesson),children:/*#__PURE__*/_jsx(Box,{sx:{background:'orange',borderRadius:3,px:0.7,py:0.2,display:'flex',alignItems:'center',justifyContent:'center'},children:lessonIndex+1})},lessonIndex);})}),/*#__PURE__*/_jsx(Box,{sx:{position:'absolute',left:0,bottom:10,width:'100%',zIndex:5,display:'flex',alignItems:'center',justifyContent:'center'},children:/*#__PURE__*/_jsx(Box,{sx:{bgcolor:nameBoxColor,borderRadius:3,px:3,py:1.5,boxShadow:'0 2px 8px #43a04755',border:'2px solid #fffde7',minWidth:120,textAlign:'center'},children:/*#__PURE__*/_jsx(Typography,{align:\"center\",sx:{fontFamily:\"'Oswald', Impact, Arial, sans-serif\",fontWeight:900,letterSpacing:2,color:'#fff',textShadow:'0 2px 8px #222b',m:0,fontSize:22,textTransform:'uppercase',lineHeight:1.1,px:1.5,borderRadius:3},children:student.name})})})]}),/*#__PURE__*/_jsxs(Box,{sx:{flex:1,minWidth:260,maxWidth:480,bgcolor:'#fff',borderRadius:4,boxShadow:'0 2px 8px #1976d233',p:{xs:2,md:3},mt:{xs:0,md:2}},children:[/*#__PURE__*/_jsx(Snackbar,{open:showUndoAlert&&!localStorage.getItem('token'),autoHideDuration:4000,onClose:()=>setShowUndoAlert(false),message:\"Una lezione \\xE8 stata annullata dall'amministratore. Ora puoi riutilizzare il modulo n\\xB0\".concat(undoLessonIndex!==null?undoLessonIndex+1:'',\".\"),anchorOrigin:{vertical:'bottom',horizontal:'center'},sx:{'& .MuiSnackbarContent-root':{bgcolor:'#ff9800',color:'#fff',fontWeight:700,fontSize:16,borderRadius:3,boxShadow:'0 2px 8px #d8431555',letterSpacing:1}}}),/*#__PURE__*/_jsx(Snackbar,{open:showLessonInfo,autoHideDuration:4000,onClose:()=>setShowLessonInfo(false),message:lessonInfo.number?\"Modulo n\\xB0\".concat(lessonInfo.number,\": lezione effettuata il \").concat(lessonInfo.date):'',anchorOrigin:{vertical:'bottom',horizontal:'center'},sx:{'& .MuiSnackbarContent-root':{bgcolor:'#1976d2',color:'#fff',fontWeight:700,fontSize:16,borderRadius:3,boxShadow:'0 2px 8px #1976d255',letterSpacing:1}}}),/*#__PURE__*/_jsx(Typography,{variant:\"h6\",sx:{fontWeight:700,color:'#1976d2',mb:1},children:\"Storico lezioni\"}),student.tesserini.map((tess,idx)=>/*#__PURE__*/_jsxs(Box,{sx:{mb:2,p:2,border:'2px solid #1976d2',borderRadius:2,bgcolor:'#f5faff'},children:[/*#__PURE__*/_jsxs(Typography,{variant:\"subtitle1\",sx:{fontWeight:700},children:[\"Tesserino #\",idx+1,\" (attivato il \",new Date(tess.attivatoIl).toLocaleDateString('it-IT'),\")\"]}),tess.lessons.map((lesson,lidx)=>{let stato='Disponibile';let colore='#43a047';let contenuto=lidx+1;let title='';let onClick=undefined;if(lesson.isUsed&&lesson.date){stato='Usata';colore='#d32f2f';contenuto=lidx+1+' ✓';title='Clicca per annullare la lezione';onClick=async()=>{if(window.confirm('Vuoi annullare questa lezione?')){await axios.patch(\"https://tesserino-virtuale1.onrender.com/api/students/\".concat(student._id,\"/tesserini/\").concat(idx,\"/lessons/\").concat(lidx,\"/undo\"),{},{headers:{Authorization:\"Bearer \".concat(localStorage.getItem('token'))}});fetchStudent();}};}else if(!lesson.isUsed&&lesson.undoDate){stato='Annullata';colore='#ff9800';contenuto=new Date(lesson.undoDate).toLocaleString('it-IT',{day:'2-digit',month:'2-digit',year:'2-digit',hour:'2-digit',minute:'2-digit'});title='Clicca per riabilitare il modulo';onClick=async()=>{if(window.confirm('Vuoi riabilitare questo modulo?')){await axios.patch(\"https://tesserino-virtuale1.onrender.com/api/students/\".concat(student._id,\"/tesserini/\").concat(idx,\"/lessons/\").concat(lidx,\"/use\"),{},{headers:{Authorization:\"Bearer \".concat(localStorage.getItem('token'))}});fetchStudent();}};}else{title='Clicca per marcare come usata';onClick=async()=>{if(window.confirm('Vuoi marcare questa lezione come usata?')){await axios.patch(\"https://tesserino-virtuale1.onrender.com/api/students/\".concat(student._id,\"/tesserini/\").concat(idx,\"/lessons/\").concat(lidx,\"/use\"),{},{headers:{Authorization:\"Bearer \".concat(localStorage.getItem('token'))}});fetchStudent();}};}return/*#__PURE__*/_jsx(Box,{sx:{display:'inline-block',mr:1,mb:1,px:1,py:0.5,borderRadius:2,bgcolor:lesson.isUsed?'#d32f2f22':lesson.undoDate?'#ff980022':'#43a04722',color:colore,fontWeight:700,position:'relative',cursor:'pointer',transition:'background 0.2s','&:hover':{bgcolor:'#ff980055'},minWidth:60,textAlign:'center'},onClick:onClick,title:title,children:contenuto},lidx);})]},idx))]})]});}export default StudentCard;","map":{"version":3,"names":["React","useState","useEffect","useParams","Container","Typography","Box","Tooltip","IconButton","Snackbar","Button","Dialog","DialogTitle","DialogContent","DialogActions","axios","PersonIcon","CloseIcon","AppleIcon","AndroidIcon","ShareIcon","jsx","_jsx","jsxs","_jsxs","StudentCard","id","student","setStudent","showPwaHint","setShowPwaHint","localStorage","getItem","showUndoAlert","setShowUndoAlert","undoLessonIndex","setUndoLessonIndex","showLessonInfo","setShowLessonInfo","lessonInfo","setLessonInfo","openTessDialog","setOpenTessDialog","fetchStudent","response","get","concat","headers","Authorization","data","error","console","handleUndoLesson","lessonIndex","patch","alert","handleClosePwaHint","setItem","handleAvailableLessonClick","lesson","date","number","Date","toLocaleString","day","month","year","hour","minute","getLessons","tesserini","Array","isArray","length","lessons","CardSVG","width","height","viewBox","fill","xmlns","style","marginBottom","children","x","y","rx","stroke","strokeWidth","cx","cy","r","textAnchor","fontFamily","fontWeight","fontSize","HandSVG","marginRight","verticalAlign","d","MenuSVG","handleNewTesserino","numLessons","log","post","yellowMod","nameBoxColor","maxWidth","sx","p","textAlign","variant","color","mb","onClick","open","onClose","m","minWidth","minHeight","display","flexDirection","xs","md","alignItems","justifyContent","bgcolor","flex","mr","position","top","left","zIndex","borderRadius","boxShadow","border","right","letterSpacing","textShadow","ml","mt","src","alt","objectFit","bottom","gap","map","dateString","isUsed","title","arrow","opacity","transition","boxSizing","cursor","background","px","py","transform","align","textTransform","lineHeight","name","autoHideDuration","message","anchorOrigin","vertical","horizontal","tess","idx","attivatoIl","toLocaleDateString","lidx","stato","colore","contenuto","undefined","window","confirm","_id","undoDate"],"sources":["/Users/wilsonbasetta/Wil cursor1/tesserino-virtuale/client/src/pages/StudentCard.js"],"sourcesContent":["import React, { useState, useEffect } from 'react';\nimport { useParams } from 'react-router-dom';\nimport {\n  Container,\n  Typography,\n  Box,\n  Tooltip,\n  IconButton,\n  Snackbar,\n  Button,\n  Dialog,\n  DialogTitle,\n  DialogContent,\n  DialogActions,\n} from '@mui/material';\nimport axios from 'axios';\nimport PersonIcon from '@mui/icons-material/Person';\nimport CloseIcon from '@mui/icons-material/Close';\nimport AppleIcon from '@mui/icons-material/Apple';\nimport AndroidIcon from '@mui/icons-material/Android';\nimport ShareIcon from '@mui/icons-material/Share';\n\nfunction StudentCard() {\n  const { id } = useParams();\n  const [student, setStudent] = useState(null);\n  const [showPwaHint, setShowPwaHint] = useState(() => {\n    return localStorage.getItem('hidePwaHint') !== '1';\n  });\n  const [showUndoAlert, setShowUndoAlert] = useState(false);\n  const [undoLessonIndex, setUndoLessonIndex] = useState(null);\n  const [showLessonInfo, setShowLessonInfo] = useState(false);\n  const [lessonInfo, setLessonInfo] = useState({});\n  const [openTessDialog, setOpenTessDialog] = useState(false);\n\n  useEffect(() => {\n    fetchStudent();\n    // eslint-disable-next-line react-hooks/exhaustive-deps\n  }, [id]);\n\n  const fetchStudent = async () => {\n    try {\n      const response = await axios.get(`http://localhost:5001/api/students/${id}`, {\n        headers: { Authorization: `Bearer ${localStorage.getItem('token')}` },\n      });\n      setStudent(response.data);\n    } catch (error) {\n      console.error('Errore nel caricamento dello studente:', error);\n    }\n  };\n\n  // Funzione per annullare una lezione\n  const handleUndoLesson = async (lessonIndex) => {\n    try {\n      await axios.patch(\n        `http://localhost:5001/api/students/${id}/lessons/${lessonIndex}/undo`,\n        {},\n        {\n          headers: { Authorization: `Bearer ${localStorage.getItem('token')}` },\n        }\n      );\n      fetchStudent();\n      setUndoLessonIndex(lessonIndex);\n      setShowUndoAlert(true);\n    } catch (error) {\n      alert('Errore nell\\'annullamento della lezione');\n    }\n  };\n\n  const handleClosePwaHint = () => {\n    setShowPwaHint(false);\n    localStorage.setItem('hidePwaHint', '1');\n  };\n\n  // Gestione click su modulo disponibile (ma annullato)\n  const handleAvailableLessonClick = (lessonIndex, lesson) => {\n    if (lesson.date) {\n      setLessonInfo({\n        number: lessonIndex + 1,\n        date: new Date(lesson.date).toLocaleString('it-IT', {\n          day: '2-digit', month: '2-digit', year: '2-digit', hour: '2-digit', minute: '2-digit'\n        })\n      });\n      setShowLessonInfo(true);\n    } else {\n      // Niente banner se mai usata\n    }\n  };\n\n  // Funzione helper per ottenere le lezioni dal tesserino attivo\n  const getLessons = (student) =>\n    student && student.tesserini && Array.isArray(student.tesserini) && student.tesserini.length > 0 && Array.isArray(student.tesserini[student.tesserini.length - 1].lessons)\n      ? student.tesserini[student.tesserini.length - 1].lessons\n      : [];\n\n  // SVG vintage e illustrazione per il banner PWA\n  const CardSVG = () => (\n    <svg width=\"60\" height=\"40\" viewBox=\"0 0 60 40\" fill=\"none\" xmlns=\"http://www.w3.org/2000/svg\" style={{marginBottom: 8}}>\n      <rect x=\"2\" y=\"2\" width=\"56\" height=\"36\" rx=\"8\" fill=\"#ff9800\" stroke=\"#795548\" strokeWidth=\"4\"/>\n      <circle cx=\"30\" cy=\"20\" r=\"10\" fill=\"#fff8e1\" stroke=\"#1976d2\" strokeWidth=\"2\"/>\n      <text x=\"30\" y=\"25\" textAnchor=\"middle\" fontFamily=\"Oswald, Impact, Arial\" fontWeight=\"bold\" fontSize=\"10\" fill=\"#1976d2\">WBBS</text>\n    </svg>\n  );\n  const HandSVG = () => (\n    <svg width=\"32\" height=\"32\" viewBox=\"0 0 32 32\" fill=\"none\" xmlns=\"http://www.w3.org/2000/svg\" style={{marginRight: 6, verticalAlign: 'middle'}}>\n      <path d=\"M8 24c0 2 2 4 4 4h8c2 0 4-2 4-4v-8c0-2-2-4-4-4h-2V6a2 2 0 0 0-4 0v6H12c-2 0-4 2-4 4v8z\" fill=\"#ffb300\" stroke=\"#795548\" strokeWidth=\"2\"/>\n      <circle cx=\"16\" cy=\"8\" r=\"2\" fill=\"#fff8e1\" stroke=\"#1976d2\" strokeWidth=\"1\"/>\n    </svg>\n  );\n  const MenuSVG = () => (\n    <svg width=\"24\" height=\"24\" viewBox=\"0 0 24 24\" fill=\"none\" xmlns=\"http://www.w3.org/2000/svg\" style={{verticalAlign: 'middle', marginRight: 4}}>\n      <rect y=\"4\" width=\"24\" height=\"3\" rx=\"1.5\" fill=\"#795548\"/>\n      <rect y=\"10.5\" width=\"24\" height=\"3\" rx=\"1.5\" fill=\"#795548\"/>\n      <rect y=\"17\" width=\"24\" height=\"3\" rx=\"1.5\" fill=\"#795548\"/>\n    </svg>\n  );\n\n  // Funzione per creare un nuovo tesserino con scelta moduli\n  const handleNewTesserino = (numLessons) => async () => {\n    console.log('Creazione tesserino con', numLessons, 'moduli');\n    try {\n      await axios.post(`http://localhost:5001/api/students/${id}/tesserini`, { numLessons }, {\n        headers: { Authorization: `Bearer ${localStorage.getItem('token')}` }\n      });\n      setOpenTessDialog(false);\n      fetchStudent();\n    } catch (error) {\n      console.error('Errore nella creazione del tesserino:', error);\n      alert('Errore nella creazione del tesserino');\n    }\n  };\n\n  // Colore giallo dei moduli\n  const yellowMod = '#ffeb3b';\n  // Colore verde per il box nome\n  const nameBoxColor = '#43a047';\n\n  if (!student) {\n    return (\n      <Container>\n        <Typography>Caricamento...</Typography>\n      </Container>\n    );\n  }\n\n  if (!student || !student.tesserini || !Array.isArray(student.tesserini) || student.tesserini.length === 0) {\n    return (\n      <Container maxWidth=\"sm\" sx={{ p: 4, textAlign: 'center' }}>\n        <Typography variant=\"h6\" color=\"error\" sx={{ mb: 2 }}>\n          Dati studente non disponibili o nessun tesserino attivo.\n        </Typography>\n        <Button\n          variant=\"contained\"\n          color=\"success\"\n          onClick={() => setOpenTessDialog(true)}\n        >\n          Crea nuovo tesserino\n        </Button>\n        <Dialog open={openTessDialog} onClose={() => setOpenTessDialog(false)}>\n          <DialogTitle>Scegli il tipo di tesserino</DialogTitle>\n          <DialogContent>\n            <Button variant=\"contained\" color=\"primary\" onClick={handleNewTesserino(10)} sx={{ m: 1 }}>\n              Tesserino 10 moduli\n            </Button>\n            <Button variant=\"contained\" color=\"secondary\" onClick={handleNewTesserino(5)} sx={{ m: 1 }}>\n              Tesserino 5 moduli\n            </Button>\n          </DialogContent>\n          <DialogActions>\n            <Button onClick={() => setOpenTessDialog(false)}>Annulla</Button>\n          </DialogActions>\n        </Dialog>\n      </Container>\n    );\n  }\n\n  return (\n    <Container maxWidth=\"md\" sx={{\n      p: 0, m: 0, minWidth: '100vw', minHeight: '100vh',\n      display: 'flex', flexDirection: { xs: 'column', md: 'row' }, alignItems: 'flex-start', justifyContent: 'center',\n      bgcolor: '#fff8e1',\n    }}>\n      <Box sx={{ flex: '0 0 auto', mb: { xs: 2, md: 0 }, mr: { md: 3, xs: 0 } }}>\n        {/* Popup istruzioni PWA */}\n        {showPwaHint && (\n          <Box sx={{\n            position: 'fixed',\n            top: 0,\n            left: 0,\n            width: '100vw',\n            height: '100vh',\n            bgcolor: 'rgba(0,0,0,0.45)',\n            zIndex: 9999,\n            display: 'flex',\n            alignItems: 'center',\n            justifyContent: 'center',\n          }}>\n            <Box sx={{\n              bgcolor: '#fff8e1',\n              borderRadius: 6,\n              boxShadow: '0 8px 32px #ff980088',\n              p: 4,\n              maxWidth: 370,\n              width: '92vw',\n              textAlign: 'center',\n              position: 'relative',\n              border: '4px solid #ff9800',\n              display: 'flex',\n              flexDirection: 'column',\n              alignItems: 'center',\n            }}>\n              <IconButton onClick={handleClosePwaHint} sx={{ position: 'absolute', top: 8, right: 8 }}>\n                <CloseIcon />\n              </IconButton>\n              <CardSVG />\n              <Typography variant=\"h5\" sx={{ mb: 2, fontWeight: 900, color: '#d84315', letterSpacing: 2, fontFamily: 'Oswald, Impact, Arial, sans-serif', textShadow: '0 2px 8px #ff980088' }}>\n                Installa il tesserino come App!\n              </Typography>\n              <Typography variant=\"body1\" sx={{ mb: 3, color: '#795548', fontWeight: 700, fontSize: 18 }}>\n                Per un accesso rapido e senza limiti, aggiungi il tesserino alla schermata Home:\n              </Typography>\n              <Box sx={{ textAlign: 'left', mb: 2, width: '100%' }}>\n                <Box sx={{ display: 'flex', alignItems: 'center', mb: 1 }}>\n                  <AppleIcon sx={{ color: '#222', fontSize: 28, mr: 1 }} />\n                  <Typography variant=\"subtitle2\" sx={{ fontWeight: 700, color: '#ff9800', fontSize: 18 }}>iPhone (Safari):</Typography>\n                </Box>\n                <Typography variant=\"body2\" sx={{ mb: 1, ml: 4, color: '#333', fontWeight: 600 }}>\n                  1. Tocca <ShareIcon sx={{ fontSize: 18, mb: '-3px', color: '#1976d2' }} /> <b>Condividi</b> in basso<br/>\n                  2. Scegli <b>Aggiungi a Home</b>\n                </Typography>\n                <Box sx={{ display: 'flex', alignItems: 'center', mb: 1, mt: 2 }}>\n                  <AndroidIcon sx={{ color: '#388e3c', fontSize: 28, mr: 1 }} />\n                  <Typography variant=\"subtitle2\" sx={{ fontWeight: 700, color: '#388e3c', fontSize: 18 }}>Android (Chrome):</Typography>\n                </Box>\n                <Typography variant=\"body2\" sx={{ mb: 1, ml: 4, color: '#333', fontWeight: 600 }}>\n                  1. Tocca <MenuSVG /> <b>Menu</b> in alto a destra<br/>\n                  2. Scegli <b>Aggiungi a schermata Home</b>\n                </Typography>\n              </Box>\n              <Box sx={{ display: 'flex', alignItems: 'center', justifyContent: 'center', mb: 1 }}>\n                <HandSVG />\n                <Typography variant=\"caption\" sx={{ color: '#d84315', fontWeight: 700, letterSpacing: 1, fontSize: 16 }}>\n                  Vedrai l'icona \"MY BOXING LESSONS\" tra le tue app!\n                </Typography>\n              </Box>\n            </Box>\n          </Box>\n        )}\n        {/* Sfondo immagine e overlay */}\n        <img\n          src=\"/main.jpg\"\n          alt=\"Boxe BG\"\n          style={{\n            position: 'absolute',\n            top: 0,\n            left: 0,\n            width: '100%',\n            height: '100%',\n            objectFit: 'cover',\n            zIndex: 0,\n            border: '4px solid #b71c1c',\n            borderRadius: '8px',\n          }}\n        />\n        <Box sx={{\n          position: 'absolute',\n          top: 0,\n          left: 0,\n          width: '100%',\n          height: '100%',\n          bgcolor: 'rgba(0,0,0,0.18)',\n          zIndex: 2,\n        }} />\n        {/* Badge lezioni: mostra solo il numero effettivo di moduli del tesserino attivo */}\n        <Box sx={{\n          position: 'absolute',\n          left: 0,\n          bottom: 70,\n          width: '100%',\n          zIndex: 4,\n          display: 'flex',\n          flexDirection: 'row',\n          alignItems: 'center',\n          justifyContent: 'center',\n          gap: 0.5,\n        }}>\n          {getLessons(student).map((lesson, lessonIndex) => {\n            const dateString = lesson.date ? new Date(lesson.date).toLocaleString('it-IT', { day: '2-digit', month: '2-digit', year: '2-digit', hour: '2-digit', minute: '2-digit' }) : '';\n            return lesson.isUsed ? (\n              <Tooltip key={lessonIndex} title={dateString ? `Lezione effettuata il ${dateString}` : ''} arrow>\n                <Box\n                  sx={{\n                    width: 38,\n                    height: 52,\n                    borderRadius: 6,\n                    bgcolor: yellowMod,\n                    border: '2.5px solid #aaa',\n                    boxShadow: 'none',\n                    opacity: 0.92,\n                    display: 'flex',\n                    alignItems: 'center',\n                    justifyContent: 'center',\n                    fontWeight: 700,\n                    fontSize: 18,\n                    color: '#d32f2f',\n                    mb: 0,\n                    transition: 'all 0.2s',\n                    boxSizing: 'border-box',\n                    cursor: 'pointer',\n                    position: 'relative',\n                  }}\n                  onClick={() => {}}\n                >\n                  <Box sx={{ background: 'orange', borderRadius: 3, px: 0.7, py: 0.2, display: 'flex', alignItems: 'center', justifyContent: 'center' }}>\n                    ✗\n                  </Box>\n                  {/* Bottone Annulla visibile solo se token presente (admin) */}\n                  {localStorage.getItem('token') && (\n                    <button\n                      onClick={() => handleUndoLesson(lessonIndex)}\n                      style={{\n                        position: 'absolute',\n                        top: 2,\n                        right: 2,\n                        width: 18,\n                        height: 18,\n                        background: '#ff9800',\n                        color: '#fff',\n                        border: 'none',\n                        borderRadius: '50%',\n                        fontSize: 10,\n                        fontWeight: 700,\n                        cursor: 'pointer',\n                        boxShadow: '0 1px 4px #e6510022',\n                        display: 'flex',\n                        alignItems: 'center',\n                        justifyContent: 'center',\n                        zIndex: 10,\n                      }}\n                      title=\"Annulla lezione\"\n                    >\n                      ↺\n                    </button>\n                  )}\n                </Box>\n              </Tooltip>\n            ) :\n              <Box\n                key={lessonIndex}\n                sx={{\n                  width: 38,\n                  height: 52,\n                  borderRadius: 6,\n                  bgcolor: yellowMod,\n                  border: '2.5px solid #43a047',\n                  boxShadow: '0 2px 8px #1976d233',\n                  opacity: 0.92,\n                  display: 'flex',\n                  alignItems: 'center',\n                  justifyContent: 'center',\n                  cursor: 'pointer',\n                  fontWeight: 700,\n                  fontSize: 18,\n                  color: '#1976d2',\n                  mb: 0,\n                  transition: 'all 0.2s',\n                  boxSizing: 'border-box',\n                  '&:hover': {\n                    boxShadow: '0 0 8px #43a047',\n                    transform: 'scale(1.08)',\n                    background: 'linear-gradient(135deg, #fffde7 0%, #fff9c4 100%)',\n                  },\n                }}\n                onClick={() => handleAvailableLessonClick(lessonIndex, lesson)}\n              >\n                <Box sx={{ background: 'orange', borderRadius: 3, px: 0.7, py: 0.2, display: 'flex', alignItems: 'center', justifyContent: 'center' }}>\n                  {lessonIndex + 1}\n                </Box>\n              </Box>\n            ;\n          })}\n        </Box>\n        {/* Nome allievo SOTTO i moduli, con padding e sfondo verde */}\n        <Box sx={{\n          position: 'absolute',\n          left: 0,\n          bottom: 10,\n          width: '100%',\n          zIndex: 5,\n          display: 'flex',\n          alignItems: 'center',\n          justifyContent: 'center',\n        }}>\n          <Box sx={{\n            bgcolor: nameBoxColor,\n            borderRadius: 3,\n            px: 3,\n            py: 1.5,\n            boxShadow: '0 2px 8px #43a04755',\n            border: '2px solid #fffde7',\n            minWidth: 120,\n            textAlign: 'center',\n          }}>\n            <Typography\n              align=\"center\"\n              sx={{\n                fontFamily: \"'Oswald', Impact, Arial, sans-serif\",\n                fontWeight: 900,\n                letterSpacing: 2,\n                color: '#fff',\n                textShadow: '0 2px 8px #222b',\n                m: 0,\n                fontSize: 22,\n                textTransform: 'uppercase',\n                lineHeight: 1.1,\n                px: 1.5,\n                borderRadius: 3,\n              }}\n            >\n              {student.name}\n            </Typography>\n          </Box>\n        </Box>\n      </Box>\n      <Box sx={{ flex: 1, minWidth: 260, maxWidth: 480, bgcolor: '#fff', borderRadius: 4, boxShadow: '0 2px 8px #1976d233', p: { xs: 2, md: 3 }, mt: { xs: 0, md: 2 } }}>\n        {/* Snackbar avviso annullamento modulo */}\n        <Snackbar\n          open={showUndoAlert && !localStorage.getItem('token')}\n          autoHideDuration={4000}\n          onClose={() => setShowUndoAlert(false)}\n          message={`Una lezione è stata annullata dall'amministratore. Ora puoi riutilizzare il modulo n°${undoLessonIndex !== null ? undoLessonIndex + 1 : ''}.`}\n          anchorOrigin={{ vertical: 'bottom', horizontal: 'center' }}\n          sx={{\n            '& .MuiSnackbarContent-root': {\n              bgcolor: '#ff9800',\n              color: '#fff',\n              fontWeight: 700,\n              fontSize: 16,\n              borderRadius: 3,\n              boxShadow: '0 2px 8px #d8431555',\n              letterSpacing: 1,\n            }\n          }}\n        />\n        {/* Snackbar info lezione annullata (clic su modulo disponibile con data) */}\n        <Snackbar\n          open={showLessonInfo}\n          autoHideDuration={4000}\n          onClose={() => setShowLessonInfo(false)}\n          message={lessonInfo.number ? `Modulo n°${lessonInfo.number}: lezione effettuata il ${lessonInfo.date}` : ''}\n          anchorOrigin={{ vertical: 'bottom', horizontal: 'center' }}\n          sx={{\n            '& .MuiSnackbarContent-root': {\n              bgcolor: '#1976d2',\n              color: '#fff',\n              fontWeight: 700,\n              fontSize: 16,\n              borderRadius: 3,\n              boxShadow: '0 2px 8px #1976d255',\n              letterSpacing: 1,\n            }\n          }}\n        />\n        {/* Storico lezioni */}\n        <Typography variant=\"h6\" sx={{ fontWeight: 700, color: '#1976d2', mb: 1 }}>\n          Storico lezioni\n        </Typography>\n        {student.tesserini.map((tess, idx) => (\n          <Box key={idx} sx={{ mb: 2, p: 2, border: '2px solid #1976d2', borderRadius: 2, bgcolor: '#f5faff' }}>\n            <Typography variant=\"subtitle1\" sx={{ fontWeight: 700 }}>\n              Tesserino #{idx + 1} (attivato il {new Date(tess.attivatoIl).toLocaleDateString('it-IT')})\n            </Typography>\n            {tess.lessons.map((lesson, lidx) => {\n              let stato = 'Disponibile';\n              let colore = '#43a047';\n              let contenuto = lidx + 1;\n              let title = '';\n              let onClick = undefined;\n              if (lesson.isUsed && lesson.date) {\n                stato = 'Usata';\n                colore = '#d32f2f';\n                contenuto = lidx + 1 + ' ✓';\n                title = 'Clicca per annullare la lezione';\n                onClick = async () => {\n                  if (window.confirm('Vuoi annullare questa lezione?')) {\n                    await axios.patch(`https://tesserino-virtuale1.onrender.com/api/students/${student._id}/tesserini/${idx}/lessons/${lidx}/undo`, {}, {\n                      headers: { Authorization: `Bearer ${localStorage.getItem('token')}` }\n                    });\n                    fetchStudent();\n                  }\n                };\n              } else if (!lesson.isUsed && lesson.undoDate) {\n                stato = 'Annullata';\n                colore = '#ff9800';\n                contenuto = new Date(lesson.undoDate).toLocaleString('it-IT', { day: '2-digit', month: '2-digit', year: '2-digit', hour: '2-digit', minute: '2-digit' });\n                title = 'Clicca per riabilitare il modulo';\n                onClick = async () => {\n                  if (window.confirm('Vuoi riabilitare questo modulo?')) {\n                    await axios.patch(`https://tesserino-virtuale1.onrender.com/api/students/${student._id}/tesserini/${idx}/lessons/${lidx}/use`, {}, {\n                      headers: { Authorization: `Bearer ${localStorage.getItem('token')}` }\n                    });\n                    fetchStudent();\n                  }\n                };\n              } else {\n                title = 'Clicca per marcare come usata';\n                onClick = async () => {\n                  if (window.confirm('Vuoi marcare questa lezione come usata?')) {\n                    await axios.patch(`https://tesserino-virtuale1.onrender.com/api/students/${student._id}/tesserini/${idx}/lessons/${lidx}/use`, {}, {\n                      headers: { Authorization: `Bearer ${localStorage.getItem('token')}` }\n                    });\n                    fetchStudent();\n                  }\n                };\n              }\n              return (\n                <Box\n                  key={lidx}\n                  sx={{\n                    display: 'inline-block',\n                    mr: 1, mb: 1, px: 1, py: 0.5, borderRadius: 2,\n                    bgcolor: lesson.isUsed ? '#d32f2f22' : (lesson.undoDate ? '#ff980022' : '#43a04722'),\n                    color: colore,\n                    fontWeight: 700, position: 'relative',\n                    cursor: 'pointer',\n                    transition: 'background 0.2s',\n                    '&:hover': { bgcolor: '#ff980055' },\n                    minWidth: 60,\n                    textAlign: 'center',\n                  }}\n                  onClick={onClick}\n                  title={title}\n                >\n                  {contenuto}\n                </Box>\n              );\n            })}\n          </Box>\n        ))}\n      </Box>\n    </Container>\n  );\n}\n\nexport default StudentCard; "],"mappings":"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","ignoreList":[]},"metadata":{},"sourceType":"module","externalDependencies":[]}